# .github/workflows/gradle.yml

name: Gradle Checks

on: [push, pull_request]

jobs:
    test:
        runs-on: ubuntu-latest
        steps:
            -   uses: actions/checkout@v2

            -   uses: actions/cache@v1
                with:
                    path: ~/.gradle/caches
                    key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}
                    restore-keys: |
                        ${{ runner.os }}-gradle-
            -   name: Set up JDK
                uses: actions/setup-java@v1
                with:
                    java-version: 11

            -   name: Run Gradle Checks
                run: ./gradlew check

            -   name: Run Gradle spotbugsMain
                run: ./gradlew spotBugsMain

            -   name: Run Gradle spotbugsTest
                run: ./gradlew spotBugsTest
